<!doctype html>
<meta charset="utf-8" />
<title>Sonic</title>
<meta name="viewport" content="width=device-width">
<meta name="apple-mobile-web-app-capable" content="yes" />

<style>
body { background: black; }
</style>

<body>

<script src="../src/sonic.js"></script>
<script>

var start;

var square = new Sonic({
    width: 100,
    height: 100,
    fillColor: '#ff0',
    pointDistance: 0.01,
    dotRadius: 2,
    time: 10,
    path: [
        ['line', 50, 10, 86, 10],
          ['arc', 85, 15, 5, -90, 0],
        ['line', 90, 15, 90, 86],
          ['arc', 85, 85, 5, 0, 90],
        ['line', 86, 90, 15, 90],
          ['arc', 15, 85, 5, 90, 180],
        ['line', 10, 86, 10, 15],
          ['arc', 15, 15, 5, -180, -90],
        ['line', 15, 10, 50, 10],
    ],
    path: [
        ['line', 50, 10, 80, 10],
          ['bezier', 80, 10, 90, 20, 90, 10, 90, 10],
        ['line', 90, 20, 90, 80],
          ['bezier', 90, 80, 80, 90, 90, 90, 90, 90],
        ['line', 80, 90, 20, 90],
          ['bezier', 20, 90, 10, 80, 10, 90, 10, 90],
        ['line', 10, 80, 10, 20],
          ['bezier', 10, 20, 20, 10, 10, 10, 10, 10],
        ['line', 20, 10, 50, 10],
    ],
    step: 'timer',
    setup: function () {
      this._.lineWidth = 0;
    },
    complete: function () {
      this.stop();
      setTimeout(function () {
        start = +(new Date);
        square.play();
      }, 500);
      console.log(this.points.length, this.frame);
      console.log('%dms', +(new Date) - start);
    }
});

start = +(new Date);

square.play();

document.body.appendChild(square.canvas);

</script>

</body>